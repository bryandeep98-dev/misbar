<!DOCTYPE html>
<html lang="en">
<body>
    <h3>Copy kode di bawah ke sitemap.xml</h3>
    <textarea id="output" style="width: 100%; height: 500px; font-family: monospace;"></textarea>
    <script>
        // Fungsi Slug sama persis dengan script.js
        function createSlug(title) {
            return title.toLowerCase().replace(/[^\w\s-]/g, '').replace(/\s+/g, '-').replace(/-+/g, '-');
        }

        fetch('movies.json')
            .then(res => res.json())
            .then(data => {
                let xml = '<?xml version="1.0" encoding="UTF-8"?>\n<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">\n';
                
                // Home
                xml += ' <url><loc>https://www.misbar21.com/</loc><priority>1.0</priority></url>\n';

                // Loop Movies dengan SLUG
                data.forEach(m => {
                    const slug = createSlug(m.title);
                    xml += ` <url><loc>https://www.misbar21.com/${slug}</loc><priority>0.8</priority></url>\n`;
                });

                xml += '</urlset>';
                document.getElementById('output').value = xml;
            });
    </script>
</body>
</html>
